<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MOBBO Use Case Survey — CMC Vellore</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet"/>
  <style>
    :root {
      --bg: #f5f2ee;
      --surface: #ffffff;
      --primary: #1a3a5c;
      --accent: #c8873a;
      --accent2: #4a8c8c;
      --text: #1e1e1e;
      --muted: #6b6b6b;
      --border: #ddd8d0;
      --tag: #e8f0f0;
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'DM Sans', sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      font-size: 15px;
      line-height: 1.65;
    }

    /* HEADER */
    header {
      background: var(--primary);
      color: #fff;
      padding: 56px 24px 48px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    header::before {
      content: '';
      position: absolute; inset: 0;
      background: repeating-linear-gradient(
        45deg,
        transparent,
        transparent 40px,
        rgba(255,255,255,0.03) 40px,
        rgba(255,255,255,0.03) 80px
      );
    }
    .header-inner { position: relative; z-index: 1; max-width: 760px; margin: 0 auto; }
    .badge {
      display: inline-block;
      background: rgba(200,135,58,0.25);
      border: 1px solid var(--accent);
      color: #f2c07b;
      font-size: 11px;
      font-weight: 500;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      padding: 4px 14px;
      border-radius: 20px;
      margin-bottom: 18px;
    }
    header h1 {
      font-family: 'Playfair Display', serif;
      font-size: clamp(24px, 5vw, 40px);
      font-weight: 700;
      line-height: 1.2;
      margin-bottom: 14px;
      color: #fff;
    }
    header p {
      color: rgba(255,255,255,0.7);
      font-size: 14px;
      max-width: 560px;
      margin: 0 auto;
    }

    /* PROGRESS */
    .progress-bar-wrap {
      background: #e0dbd4;
      height: 4px;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--accent2), var(--accent));
      width: 0%;
      transition: width 0.3s ease;
    }

    /* LAYOUT */
    .container { max-width: 820px; margin: 0 auto; padding: 48px 20px 80px; }

    /* SECTIONS */
    .section {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 36px 40px;
      margin-bottom: 28px;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .section.visible { opacity: 1; transform: translateY(0); }

    .section-label {
      font-size: 11px;
      font-weight: 500;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 6px;
    }
    .section-title {
      font-family: 'Playfair Display', serif;
      font-size: 22px;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 6px;
    }
    .section-desc {
      color: var(--muted);
      font-size: 13.5px;
      margin-bottom: 24px;
      border-bottom: 1px solid var(--border);
      padding-bottom: 20px;
    }

    /* FORM ELEMENTS */
    .field { margin-bottom: 22px; }
    .field label.qlabel {
      display: block;
      font-weight: 500;
      font-size: 14px;
      margin-bottom: 10px;
      color: var(--text);
    }
    .field label.qlabel span.req { color: var(--accent); margin-left: 3px; }

    /* Checkboxes / Radios */
    .options-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
    }
    @media (max-width: 560px) { .options-grid { grid-template-columns: 1fr; } }
    .options-grid.single { grid-template-columns: 1fr; }

    .opt-label {
      display: flex;
      align-items: center;
      gap: 10px;
      background: var(--bg);
      border: 1.5px solid var(--border);
      border-radius: 9px;
      padding: 10px 14px;
      cursor: pointer;
      font-size: 13.5px;
      transition: all 0.15s;
    }
    .opt-label:hover { border-color: var(--accent2); background: var(--tag); }
    .opt-label input { accent-color: var(--accent2); width: 16px; height: 16px; flex-shrink: 0; }
    .opt-label.checked { border-color: var(--accent2); background: var(--tag); }

    /* Text inputs */
    input[type="text"], textarea, select {
      width: 100%;
      border: 1.5px solid var(--border);
      border-radius: 9px;
      padding: 10px 14px;
      font-family: inherit;
      font-size: 14px;
      background: var(--bg);
      color: var(--text);
      transition: border-color 0.2s;
      outline: none;
    }
    input[type="text"]:focus, textarea:focus, select:focus {
      border-color: var(--accent2);
      background: #fff;
    }
    textarea { min-height: 80px; resize: vertical; }

    /* Rating Table */
    .rating-table { width: 100%; border-collapse: separate; border-spacing: 0 6px; margin-bottom: 4px; }
    .rating-table thead tr th {
      font-size: 11px;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--muted);
      padding: 4px 6px;
      text-align: center;
    }
    .rating-table thead tr th:first-child { text-align: left; }
    .rating-table tbody tr td {
      padding: 10px 8px;
      background: var(--bg);
      vertical-align: middle;
    }
    .rating-table tbody tr td:first-child {
      border-radius: 9px 0 0 9px;
      padding-left: 14px;
      font-size: 13.5px;
      width: 50%;
    }
    .rating-table tbody tr td:last-child { border-radius: 0 9px 9px 0; }
    .rating-table tbody tr td input[type=radio] { accent-color: var(--accent2); width: 17px; height: 17px; cursor: pointer; }
    .rating-table tbody tr:hover td { background: var(--tag); }

    .rating-scale-note {
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 12px;
      font-style: italic;
    }

    /* Submit */
    .submit-wrap { text-align: center; margin-top: 40px; }
    .btn-submit {
      background: var(--primary);
      color: #fff;
      border: none;
      padding: 16px 56px;
      border-radius: 50px;
      font-size: 15px;
      font-weight: 500;
      font-family: inherit;
      cursor: pointer;
      letter-spacing: 0.04em;
      transition: background 0.2s, transform 0.15s;
      box-shadow: 0 4px 20px rgba(26,58,92,0.2);
    }
    .btn-submit:hover { background: var(--accent2); transform: translateY(-2px); }
    .btn-submit:active { transform: translateY(0); }

    /* Thank you */
    #thankyou {
      display: none;
      text-align: center;
      padding: 80px 20px;
    }
    #thankyou .ty-icon {
      font-size: 56px;
      margin-bottom: 20px;
      animation: pop 0.5s ease;
    }
    @keyframes pop { 0%{transform:scale(0.3);opacity:0} 80%{transform:scale(1.1)} 100%{transform:scale(1);opacity:1} }
    #thankyou h2 {
      font-family: 'Playfair Display', serif;
      font-size: 32px;
      color: var(--primary);
      margin-bottom: 12px;
    }
    #thankyou p { color: var(--muted); font-size: 15px; }

    /* Divider within section */
    .divider { border: none; border-top: 1px solid var(--border); margin: 20px 0; }

    .subsection-title {
      font-size: 13px;
      font-weight: 600;
      color: var(--accent2);
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin: 20px 0 12px;
    }

    @media (max-width: 640px) {
      .section { padding: 24px 18px; }
      .rating-table { font-size: 12px; }
      .rating-table tbody tr td:first-child { font-size: 12px; }
    }
  </style>
</head>
<body>

<header>
  <div class="header-inner">
    <div class="badge">Department of Bioengineering · CMC Vellore</div>
    <h1>Modular Balance Boards<br>Use Case Survey</h1>
    <p>Your feedback will help refine the MOBBO system to better meet clinical needs and enhance its utility in balance assessment and rehabilitation.</p>
  </div>
</header>

<div class="progress-bar-wrap"><div class="progress-bar" id="progressBar"></div></div>

<div class="container" id="mainContent">
  <form id="surveyForm" novalidate>

    <!-- NAME FIELD -->
    <div class="section visible" id="s0" style="opacity:1;transform:none;">
      <div class="section-label">Before You Begin</div>
      <div class="section-title">Your Name</div>
      <div class="section-desc">Please enter your full name so we can identify your response.</div>
      <div class="field">
        <label class="qlabel">Full Name <span class="req">*</span></label>
        <input type="text" name="respondent_name" placeholder="Enter your full name…" required>
      </div>
    </div>

    <!-- SECTION 1: Demographics -->
    <div class="section" id="s1">
      <div class="section-label">Section 1 of 7</div>
      <div class="section-title">Demographic Information</div>
      <div class="section-desc">Please tell us about your professional background.</div>

      <div class="field">
        <label class="qlabel">1. Professional Role <span class="req">*</span></label>
        <div class="options-grid">
          <label class="opt-label"><input type="radio" name="role" value="Physiotherapist"> Physiotherapist</label>
          <label class="opt-label"><input type="radio" name="role" value="Occupational Therapist"> Occupational Therapist</label>
          <label class="opt-label"><input type="radio" name="role" value="Neurologist"> Neurologist</label>
          <label class="opt-label"><input type="radio" name="role" value="Orthopedic Surgeon"> Orthopedic Surgeon</label>
          <label class="opt-label"><input type="radio" name="role" value="Rehabilitation Specialist"> Rehabilitation Specialist</label>
          <label class="opt-label"><input type="radio" name="role" value="Prosthetics and Orthotics"> Prosthetics & Orthotics Specialist</label>
          <label class="opt-label"><input type="radio" name="role" value="Other"> Other</label>
        </div>
        <div style="margin-top:10px;"><input type="text" name="role_other" placeholder="If other, please specify…"></div>
      </div>

      <div class="field">
        <label class="qlabel">2. Years of Clinical Experience <span class="req">*</span></label>
        <div class="options-grid">
          <label class="opt-label"><input type="radio" name="experience" value="0-5"> 0–5 years</label>
          <label class="opt-label"><input type="radio" name="experience" value="6-10"> 6–10 years</label>
          <label class="opt-label"><input type="radio" name="experience" value="11-20"> 11–20 years</label>
          <label class="opt-label"><input type="radio" name="experience" value="20+"> More than 20 years</label>
        </div>
      </div>

      <div class="field">
        <label class="qlabel">3. Current Workplace Setting <span class="req">*</span></label>
        <div class="options-grid">
          <label class="opt-label"><input type="radio" name="workplace" value="Hospital"> Hospital</label>
          <label class="opt-label"><input type="radio" name="workplace" value="Private Clinic"> Private Clinic</label>
          <label class="opt-label"><input type="radio" name="workplace" value="Rehabilitation Center"> Rehabilitation Center</label>
          <label class="opt-label"><input type="radio" name="workplace" value="Home Care Services"> Home Care Services</label>
          <label class="opt-label"><input type="radio" name="workplace" value="Academic/Research"> Academic / Research Institution</label>
          <label class="opt-label"><input type="radio" name="workplace" value="Other"> Other</label>
        </div>
        <div style="margin-top:10px;"><input type="text" name="workplace_other" placeholder="If other, please specify…"></div>
      </div>

      <div class="field">
        <label class="qlabel">4. Frequency of Treating Balance-Related Conditions <span class="req">*</span></label>
        <div class="options-grid">
          <label class="opt-label"><input type="radio" name="freq" value="Daily"> Daily</label>
          <label class="opt-label"><input type="radio" name="freq" value="Weekly"> Weekly</label>
          <label class="opt-label"><input type="radio" name="freq" value="Monthly"> Monthly</label>
          <label class="opt-label"><input type="radio" name="freq" value="Rarely"> Rarely</label>
          <label class="opt-label"><input type="radio" name="freq" value="Never"> Never</label>
        </div>
      </div>
    </div>

    <!-- SECTION 2: Current Practice -->
    <div class="section" id="s2">
      <div class="section-label">Section 2 of 7</div>
      <div class="section-title">Current Practice Assessment</div>
      <div class="section-desc">Help us understand your current clinical workflow for balance assessment.</div>

      <div class="field">
        <label class="qlabel">1. What methods do you currently use to assess balance? (Check all that apply)</label>
        <div class="options-grid single">
          <label class="opt-label"><input type="checkbox" name="methods" value="Clinical tests"> Clinical balance tests (Berg Balance Scale, Tinetti, etc.)</label>
          <label class="opt-label"><input type="checkbox" name="methods" value="Balance tech"> Balance measurement technologies</label>
        </div>
        <div style="margin-top:10px;">
          <input type="text" name="tech_specify" placeholder="If using technologies, please specify…">
        </div>
        <div style="margin-top:8px;">
          <input type="text" name="no_tech_reason" placeholder="If not using technologies, please specify the reason…">
        </div>
      </div>

      <div class="field">
        <label class="qlabel">2. What are the main challenges with current balance assessment methods? (Check all that apply)</label>
        <div class="options-grid">
          <label class="opt-label"><input type="checkbox" name="challenges" value="Expensive"> Devices are expensive</label>
          <label class="opt-label"><input type="checkbox" name="challenges" value="Complicated UI"> Complicated user interface</label>
          <label class="opt-label"><input type="checkbox" name="challenges" value="Not portable"> Heavy and not portable</label>
          <label class="opt-label"><input type="checkbox" name="challenges" value="Non-modular"> Non-modular / not customisable</label>
          <label class="opt-label"><input type="checkbox" name="challenges" value="Limited measures"> Limited measures to assess</label>
          <label class="opt-label"><input type="checkbox" name="challenges" value="Difficult visualization"> Complicated data visualization / interpretation</label>
        </div>
        <div style="margin-top:10px;"><input type="text" name="challenges_other" placeholder="Other challenge…"></div>
      </div>

      <div class="field">
        <label class="qlabel">3. Patient populations you most commonly treat for balance issues (Check all that apply)</label>
        <div class="options-grid">
          <label class="opt-label"><input type="checkbox" name="population" value="Stroke"> Stroke survivors</label>
          <label class="opt-label"><input type="checkbox" name="population" value="Elderly"> Elderly with fall risk</label>
          <label class="opt-label"><input type="checkbox" name="population" value="MCI"> Mild cognitive disorder</label>
          <label class="opt-label"><input type="checkbox" name="population" value="MS"> Multiple sclerosis</label>
          <label class="opt-label"><input type="checkbox" name="population" value="Parkinson"> Parkinson's disease</label>
          <label class="opt-label"><input type="checkbox" name="population" value="Orthopedic"> Orthopedic (post-surgery, fractures)</label>
          <label class="opt-label"><input type="checkbox" name="population" value="Athletes"> Athletes / Sports injuries</label>
          <label class="opt-label"><input type="checkbox" name="population" value="Pediatric"> Pediatric developmental disorders</label>
          <label class="opt-label"><input type="checkbox" name="population" value="Vestibular"> Vestibular disorders</label>
        </div>
        <div style="margin-top:10px;"><input type="text" name="population_other" placeholder="Other…"></div>
      </div>
    </div>

    <!-- SECTION 3: MOBBO Features -->
    <div class="section" id="s3">
      <div class="section-label">Section 3 of 7</div>
      <div class="section-title">MOBBO Features Evaluation</div>
      <div class="section-desc">Rate how useful different features and configurations would be for your clinical practice.</div>

      <!-- Feature 1: Modular configurations -->
      <div class="subsection-title">Feature 1: Modular Board Arrangements</div>
      <p style="font-size:13px;color:var(--muted);margin-bottom:14px;">Ability to arrange force plates in any useful configuration within the field of view of the camera.</p>
      <div class="rating-scale-note">Scale: 1 = Not useful → 5 = Extremely useful</div>
      <div style="overflow-x:auto;">
        <table class="rating-table">
          <thead><tr>
            <th>Configuration / Application</th>
            <th>1</th><th>2</th><th>3</th><th>4</th><th>5</th>
          </tr></thead>
          <tbody id="configTable">
            <tr><td>Single board — Static standing balance assessment</td>
              <td><input type="radio" name="cfg1" value="1"></td><td><input type="radio" name="cfg1" value="2"></td><td><input type="radio" name="cfg1" value="3"></td><td><input type="radio" name="cfg1" value="4"></td><td><input type="radio" name="cfg1" value="5"></td>
            </tr>
            <tr><td>Single board — Dynamic balance (weight shifting, reaching)</td>
              <td><input type="radio" name="cfg2" value="1"></td><td><input type="radio" name="cfg2" value="2"></td><td><input type="radio" name="cfg2" value="3"></td><td><input type="radio" name="cfg2" value="4"></td><td><input type="radio" name="cfg2" value="5"></td>
            </tr>
            <tr><td>Two boards (side-by-side) — Weight symmetry between limbs</td>
              <td><input type="radio" name="cfg3" value="1"></td><td><input type="radio" name="cfg3" value="2"></td><td><input type="radio" name="cfg3" value="3"></td><td><input type="radio" name="cfg3" value="4"></td><td><input type="radio" name="cfg3" value="5"></td>
            </tr>
            <tr><td>Two boards (side-by-side) — Bilateral stance training with real-time feedback</td>
              <td><input type="radio" name="cfg4" value="1"></td><td><input type="radio" name="cfg4" value="2"></td><td><input type="radio" name="cfg4" value="3"></td><td><input type="radio" name="cfg4" value="4"></td><td><input type="radio" name="cfg4" value="5"></td>
            </tr>
            <tr><td>Lateral arrangement (5–6 boards) — Lateral walking</td>
              <td><input type="radio" name="cfg5" value="1"></td><td><input type="radio" name="cfg5" value="2"></td><td><input type="radio" name="cfg5" value="3"></td><td><input type="radio" name="cfg5" value="4"></td><td><input type="radio" name="cfg5" value="5"></td>
            </tr>
            <tr><td>Linear arrangement (5–6 boards) — Gait assessment & training</td>
              <td><input type="radio" name="cfg6" value="1"></td><td><input type="radio" name="cfg6" value="2"></td><td><input type="radio" name="cfg6" value="3"></td><td><input type="radio" name="cfg6" value="4"></td><td><input type="radio" name="cfg6" value="5"></td>
            </tr>
            <tr><td>Staggered / offset arrangement — Obstacle crossing training</td>
              <td><input type="radio" name="cfg7" value="1"></td><td><input type="radio" name="cfg7" value="2"></td><td><input type="radio" name="cfg7" value="3"></td><td><input type="radio" name="cfg7" value="4"></td><td><input type="radio" name="cfg7" value="5"></td>
            </tr>
            <tr><td>Zigzag arrangement — Directional change & turning balance</td>
              <td><input type="radio" name="cfg8" value="1"></td><td><input type="radio" name="cfg8" value="2"></td><td><input type="radio" name="cfg8" value="3"></td><td><input type="radio" name="cfg8" value="4"></td><td><input type="radio" name="cfg8" value="5"></td>
            </tr>
            <tr><td>Variable spacing — Adjustable step length training</td>
              <td><input type="radio" name="cfg9" value="1"></td><td><input type="radio" name="cfg9" value="2"></td><td><input type="radio" name="cfg9" value="3"></td><td><input type="radio" name="cfg9" value="4"></td><td><input type="radio" name="cfg9" value="5"></td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="field" style="margin-top:18px;">
        <label class="qlabel">For configurations rated 4 or 5, describe specific clinical scenarios (target population, clinical setting):</label>
        <textarea name="cfg_scenarios" placeholder="Describe your clinical scenarios here…"></textarea>
      </div>

      <div class="field">
        <label class="qlabel">Other board arrangements that would be useful for your practice:</label>
        <textarea name="cfg_other_arrangements" placeholder="Describe other useful arrangements…"></textarea>
      </div>

      <div class="field">
        <label class="qlabel">How important is the ability to quickly reconfigure boards during a single therapy session?</label>
        <div class="options-grid">
          <label class="opt-label"><input type="radio" name="reconfig_importance" value="Not important"> Not important</label>
          <label class="opt-label"><input type="radio" name="reconfig_importance" value="Slightly important"> Slightly important</label>
          <label class="opt-label"><input type="radio" name="reconfig_importance" value="Moderately important"> Moderately important</label>
          <label class="opt-label"><input type="radio" name="reconfig_importance" value="Very important"> Very important</label>
          <label class="opt-label"><input type="radio" name="reconfig_importance" value="Extremely important"> Extremely important</label>
        </div>
      </div>

      <hr class="divider">

      <!-- Feature 2: Quantitative Measures -->
      <div class="subsection-title">Feature 2: Quantitative Measures for Balance</div>
      <p style="font-size:13px;color:var(--muted);margin-bottom:14px;">COP (Centre of Pressure), BOS (Base of Support), and COM (Centre of Mass) are crucial for balance assessment and therapy.</p>
      <div class="rating-scale-note">Scale: 1 = Not useful → 5 = Extremely useful</div>
      <div style="overflow-x:auto;">
        <table class="rating-table">
          <thead><tr><th>Parameter</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr></thead>
          <tbody>
            <tr><td>Measure Local COP and Combined COP across board configurations</td>
              <td><input type="radio" name="qm1" value="1"></td><td><input type="radio" name="qm1" value="2"></td><td><input type="radio" name="qm1" value="3"></td><td><input type="radio" name="qm1" value="4"></td><td><input type="radio" name="qm1" value="5"></td>
            </tr>
            <tr><td>Track Base of Support (BOS) in static and dynamic scenarios</td>
              <td><input type="radio" name="qm2" value="1"></td><td><input type="radio" name="qm2" value="2"></td><td><input type="radio" name="qm2" value="3"></td><td><input type="radio" name="qm2" value="4"></td><td><input type="radio" name="qm2" value="5"></td>
            </tr>
            <tr><td>Track full body pose and different joint angles</td>
              <td><input type="radio" name="qm3" value="1"></td><td><input type="radio" name="qm3" value="2"></td><td><input type="radio" name="qm3" value="3"></td><td><input type="radio" name="qm3" value="4"></td><td><input type="radio" name="qm3" value="5"></td>
            </tr>
            <tr><td>Body weight measurement on each board to track weight shifting</td>
              <td><input type="radio" name="qm4" value="1"></td><td><input type="radio" name="qm4" value="2"></td><td><input type="radio" name="qm4" value="3"></td><td><input type="radio" name="qm4" value="4"></td><td><input type="radio" name="qm4" value="5"></td>
            </tr>
            <tr><td>Is the achieved accuracy of Local COP clinically useful?</td>
              <td><input type="radio" name="qm5" value="1"></td><td><input type="radio" name="qm5" value="2"></td><td><input type="radio" name="qm5" value="3"></td><td><input type="radio" name="qm5" value="4"></td><td><input type="radio" name="qm5" value="5"></td>
            </tr>
            <tr><td>Is the achieved accuracy of Combined COP clinically useful?</td>
              <td><input type="radio" name="qm6" value="1"></td><td><input type="radio" name="qm6" value="2"></td><td><input type="radio" name="qm6" value="3"></td><td><input type="radio" name="qm6" value="4"></td><td><input type="radio" name="qm6" value="5"></td>
            </tr>
            <tr><td>Is the achieved accuracy of BOS clinically useful?</td>
              <td><input type="radio" name="qm7" value="1"></td><td><input type="radio" name="qm7" value="2"></td><td><input type="radio" name="qm7" value="3"></td><td><input type="radio" name="qm7" value="4"></td><td><input type="radio" name="qm7" value="5"></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="field" style="margin-top:14px;">
        <label class="qlabel">Other parameters you would find useful:</label>
        <input type="text" name="qm_other" placeholder="Specify other parameters…">
      </div>

      <hr class="divider">

      <!-- Feature 3: Gamified Therapy -->
      <div class="subsection-title">Feature 3: Gamified Balance Therapy</div>
      <p style="font-size:13px;color:var(--muted);margin-bottom:14px;">Therapeutic games for static balance, weight symmetry, gait training, and home care setups.</p>
      <div class="rating-scale-note">Scale: 1 = Not useful → 5 = Extremely useful</div>
      <div style="overflow-x:auto;">
        <table class="rating-table">
          <thead><tr><th>Application</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr></thead>
          <tbody>
            <tr><td>Games targeting static standing balance training</td>
              <td><input type="radio" name="gm1" value="1"></td><td><input type="radio" name="gm1" value="2"></td><td><input type="radio" name="gm1" value="3"></td><td><input type="radio" name="gm1" value="4"></td><td><input type="radio" name="gm1" value="5"></td>
            </tr>
            <tr><td>Games enforcing weight symmetry</td>
              <td><input type="radio" name="gm2" value="1"></td><td><input type="radio" name="gm2" value="2"></td><td><input type="radio" name="gm2" value="3"></td><td><input type="radio" name="gm2" value="4"></td><td><input type="radio" name="gm2" value="5"></td>
            </tr>
            <tr><td>Games targeting gait training</td>
              <td><input type="radio" name="gm3" value="1"></td><td><input type="radio" name="gm3" value="2"></td><td><input type="radio" name="gm3" value="3"></td><td><input type="radio" name="gm3" value="4"></td><td><input type="radio" name="gm3" value="5"></td>
            </tr>
            <tr><td>Usefulness of games in home care settings</td>
              <td><input type="radio" name="gm4" value="1"></td><td><input type="radio" name="gm4" value="2"></td><td><input type="radio" name="gm4" value="3"></td><td><input type="radio" name="gm4" value="4"></td><td><input type="radio" name="gm4" value="5"></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="field" style="margin-top:14px;">
        <label class="qlabel">Other gaming applications:</label>
        <input type="text" name="gm_other" placeholder="Specify other applications…">
      </div>

      <hr class="divider">

      <!-- Feature 4: System Design & Usability -->
      <div class="subsection-title">Feature 4: MOBBO System Design & Usability</div>
      <p style="font-size:13px;color:var(--muted);margin-bottom:14px;">Feedback on portability, ease of setup, and operation compared to existing technologies.</p>
      <div class="rating-scale-note">Scale: 1 = Extremely hard → 5 = Extremely easy</div>
      <div style="overflow-x:auto;">
        <table class="rating-table">
          <thead><tr><th>Parameter</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr></thead>
          <tbody>
            <tr><td>Ease of setting up the MOBBO system</td>
              <td><input type="radio" name="us1" value="1"></td><td><input type="radio" name="us1" value="2"></td><td><input type="radio" name="us1" value="3"></td><td><input type="radio" name="us1" value="4"></td><td><input type="radio" name="us1" value="5"></td>
            </tr>
            <tr><td>Ease of transporting the MOBBO system</td>
              <td><input type="radio" name="us2" value="1"></td><td><input type="radio" name="us2" value="2"></td><td><input type="radio" name="us2" value="3"></td><td><input type="radio" name="us2" value="4"></td><td><input type="radio" name="us2" value="5"></td>
            </tr>
            <tr><td>Ease of setting up the device in home care settings</td>
              <td><input type="radio" name="us3" value="1"></td><td><input type="radio" name="us3" value="2"></td><td><input type="radio" name="us3" value="3"></td><td><input type="radio" name="us3" value="4"></td><td><input type="radio" name="us3" value="5"></td>
            </tr>
            <tr><td>Ease of setting up in small-scale settings</td>
              <td><input type="radio" name="us4" value="1"></td><td><input type="radio" name="us4" value="2"></td><td><input type="radio" name="us4" value="3"></td><td><input type="radio" name="us4" value="4"></td><td><input type="radio" name="us4" value="5"></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="field" style="margin-top:14px;">
        <label class="qlabel">Other usability comments:</label>
        <input type="text" name="us_other" placeholder="Other comments on usability…">
      </div>
    </div>

    <!-- SECTION 4: Potential Use Cases -->
    <div class="section" id="s4">
      <div class="section-label">Section 4 of 7</div>
      <div class="section-title">Potential Use Cases</div>
      <div class="section-desc">Rate how useful MOBBO would be for the following scenarios.</div>
      <div class="rating-scale-note">Scale: 1 = Not useful → 5 = Extremely useful</div>

      <div class="subsection-title">Assessment Applications</div>
      <div style="overflow-x:auto;">
        <table class="rating-table">
          <thead><tr><th>Application</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr></thead>
          <tbody>
            <tr><td>Initial balance assessment for new patients</td>
              <td><input type="radio" name="aa1" value="1"></td><td><input type="radio" name="aa1" value="2"></td><td><input type="radio" name="aa1" value="3"></td><td><input type="radio" name="aa1" value="4"></td><td><input type="radio" name="aa1" value="5"></td>
            </tr>
            <tr><td>Progress monitoring during rehabilitation</td>
              <td><input type="radio" name="aa2" value="1"></td><td><input type="radio" name="aa2" value="2"></td><td><input type="radio" name="aa2" value="3"></td><td><input type="radio" name="aa2" value="4"></td><td><input type="radio" name="aa2" value="5"></td>
            </tr>
            <tr><td>Fall risk screening in elderly patients</td>
              <td><input type="radio" name="aa3" value="1"></td><td><input type="radio" name="aa3" value="2"></td><td><input type="radio" name="aa3" value="3"></td><td><input type="radio" name="aa3" value="4"></td><td><input type="radio" name="aa3" value="5"></td>
            </tr>
            <tr><td>Post-surgical balance evaluation</td>
              <td><input type="radio" name="aa4" value="1"></td><td><input type="radio" name="aa4" value="2"></td><td><input type="radio" name="aa4" value="3"></td><td><input type="radio" name="aa4" value="4"></td><td><input type="radio" name="aa4" value="5"></td>
            </tr>
            <tr><td>Pediatric balance disorders</td>
              <td><input type="radio" name="aa5" value="1"></td><td><input type="radio" name="aa5" value="2"></td><td><input type="radio" name="aa5" value="3"></td><td><input type="radio" name="aa5" value="4"></td><td><input type="radio" name="aa5" value="5"></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="field" style="margin-top:10px;"><input type="text" name="aa_other" placeholder="Other assessment applications…"></div>

      <div class="subsection-title" style="margin-top:24px;">Training Applications</div>
      <div style="overflow-x:auto;">
        <table class="rating-table">
          <thead><tr><th>Application</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr></thead>
          <tbody>
            <tr><td>Weight shifting exercises</td>
              <td><input type="radio" name="ta1" value="1"></td><td><input type="radio" name="ta1" value="2"></td><td><input type="radio" name="ta1" value="3"></td><td><input type="radio" name="ta1" value="4"></td><td><input type="radio" name="ta1" value="5"></td>
            </tr>
            <tr><td>Static balance training</td>
              <td><input type="radio" name="ta2" value="1"></td><td><input type="radio" name="ta2" value="2"></td><td><input type="radio" name="ta2" value="3"></td><td><input type="radio" name="ta2" value="4"></td><td><input type="radio" name="ta2" value="5"></td>
            </tr>
            <tr><td>Dynamic balance training</td>
              <td><input type="radio" name="ta3" value="1"></td><td><input type="radio" name="ta3" value="2"></td><td><input type="radio" name="ta3" value="3"></td><td><input type="radio" name="ta3" value="4"></td><td><input type="radio" name="ta3" value="5"></td>
            </tr>
            <tr><td>Gait training</td>
              <td><input type="radio" name="ta4" value="1"></td><td><input type="radio" name="ta4" value="2"></td><td><input type="radio" name="ta4" value="3"></td><td><input type="radio" name="ta4" value="4"></td><td><input type="radio" name="ta4" value="5"></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="field" style="margin-top:10px;"><input type="text" name="ta_other" placeholder="Other training applications…"></div>

      <div class="subsection-title" style="margin-top:24px;">Clinical Settings</div>
      <div style="overflow-x:auto;">
        <table class="rating-table">
          <thead><tr><th>Setting</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr></thead>
          <tbody>
            <tr><td>Hospital</td>
              <td><input type="radio" name="cs1" value="1"></td><td><input type="radio" name="cs1" value="2"></td><td><input type="radio" name="cs1" value="3"></td><td><input type="radio" name="cs1" value="4"></td><td><input type="radio" name="cs1" value="5"></td>
            </tr>
            <tr><td>Small-scale private clinic</td>
              <td><input type="radio" name="cs2" value="1"></td><td><input type="radio" name="cs2" value="2"></td><td><input type="radio" name="cs2" value="3"></td><td><input type="radio" name="cs2" value="4"></td><td><input type="radio" name="cs2" value="5"></td>
            </tr>
            <tr><td>Home-based therapy</td>
              <td><input type="radio" name="cs3" value="1"></td><td><input type="radio" name="cs3" value="2"></td><td><input type="radio" name="cs3" value="3"></td><td><input type="radio" name="cs3" value="4"></td><td><input type="radio" name="cs3" value="5"></td>
            </tr>
            <tr><td>Community health centers</td>
              <td><input type="radio" name="cs4" value="1"></td><td><input type="radio" name="cs4" value="2"></td><td><input type="radio" name="cs4" value="3"></td><td><input type="radio" name="cs4" value="4"></td><td><input type="radio" name="cs4" value="5"></td>
            </tr>
            <tr><td>Academic and research studies</td>
              <td><input type="radio" name="cs5" value="1"></td><td><input type="radio" name="cs5" value="2"></td><td><input type="radio" name="cs5" value="3"></td><td><input type="radio" name="cs5" value="4"></td><td><input type="radio" name="cs5" value="5"></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="field" style="margin-top:10px;"><input type="text" name="cs_other" placeholder="Other settings…"></div>
    </div>

    <!-- SECTION 5: Future Design -->
    <div class="section" id="s5">
      <div class="section-label">Section 5 of 7</div>
      <div class="section-title">Future Design Improvement Suggestions</div>
      <div class="section-desc">Help us understand what improvements would make MOBBO more useful in your practice.</div>

      <div class="field">
        <label class="qlabel">1. Additional features that would make MOBBO more useful (Check all that apply)</label>
        <div class="options-grid">
          <label class="opt-label"><input type="checkbox" name="features" value="Lighter weight"> Lighter weight than existing setup</label>
          <label class="opt-label"><input type="checkbox" name="features" value="COM estimation"> Centre of Mass (COM) estimation</label>
          <label class="opt-label"><input type="checkbox" name="features" value="Independent camera"> Independent of RGB-D camera</label>
          <label class="opt-label"><input type="checkbox" name="features" value="COP reports"> Reports on COP-based features (stride length, sway area, step length, etc.)</label>
          <label class="opt-label"><input type="checkbox" name="features" value="Footwear tracking"> Extended foot pose tracking with various footwear</label>
          <label class="opt-label"><input type="checkbox" name="features" value="More games"> Include more games</label>
          <label class="opt-label"><input type="checkbox" name="features" value="Auditory feedback"> Real-time auditory feedback</label>
        </div>
        <div style="margin-top:10px;"><input type="text" name="features_other" placeholder="Other features…"></div>
      </div>

      <div class="field">
        <label class="qlabel">2. Ideal board size for your patient population</label>
        <div class="options-grid">
          <label class="opt-label"><input type="radio" name="board_size" value="Existing (45x60cm)"> Existing (45 × 60 cm)</label>
          <label class="opt-label"><input type="radio" name="board_size" value="Smaller"> Smaller than existing</label>
          <label class="opt-label"><input type="radio" name="board_size" value="Larger"> Larger than existing</label>
        </div>
        <div style="margin-top:10px;"><input type="text" name="board_size_other" placeholder="If not existing, please specify size and reason…"></div>
      </div>

      <div class="field">
        <label class="qlabel">3. How many modular boards would be optimal for most balance rehabilitation tasks?</label>
        <div class="options-grid">
          <label class="opt-label"><input type="radio" name="num_boards" value="2"> 2 boards</label>
          <label class="opt-label"><input type="radio" name="num_boards" value="3"> 3 boards</label>
          <label class="opt-label"><input type="radio" name="num_boards" value="4"> 4 boards</label>
          <label class="opt-label"><input type="radio" name="num_boards" value="5+"> 5 or more boards</label>
          <label class="opt-label"><input type="radio" name="num_boards" value="Variable"> Variable depending on patient</label>
        </div>
        <div style="margin-top:10px;"><input type="text" name="num_boards_other" placeholder="Other (specify)…"></div>
      </div>

      <div class="field">
        <label class="qlabel">4. What information should be displayed for YOU as a therapist during sessions? (Check all that apply)</label>
        <div class="options-grid">
          <label class="opt-label"><input type="checkbox" name="display" value="Numeric values"> Numeric values (weight distribution %, sway area in cm²)</label>
          <label class="opt-label"><input type="checkbox" name="display" value="Visual representations"> Visual representations (bar graphs, pie charts, trajectory plots)</label>
          <label class="opt-label"><input type="checkbox" name="display" value="Longitudinal comparison"> Longitudinal comparison (current vs. previous session)</label>
          <label class="opt-label"><input type="checkbox" name="display" value="Progress indicators"> Progress indicators (goals achieved, improvement %)</label>
          <label class="opt-label"><input type="checkbox" name="display" value="Dual view"> Simplified patient view vs. detailed therapist view</label>
          <label class="opt-label"><input type="checkbox" name="display" value="Real-time alerts"> Real-time alerts for abnormal patterns</label>
          <label class="opt-label"><input type="checkbox" name="display" value="Normative data"> Comparative data with age-matched norms</label>
        </div>
        <div style="margin-top:10px;"><input type="text" name="display_other" placeholder="Other display preferences…"></div>
      </div>

      <div class="field">
        <label class="qlabel">5. What reporting features would you need? (Check all that apply)</label>
        <div class="options-grid">
          <label class="opt-label"><input type="checkbox" name="reporting" value="PDF reports"> PDF reports</label>
          <label class="opt-label"><input type="checkbox" name="reporting" value="Graphical charts"> Graphical charts</label>
          <label class="opt-label"><input type="checkbox" name="reporting" value="Session comparison"> Comparison with previous sessions</label>
          <label class="opt-label"><input type="checkbox" name="reporting" value="Normative comparison"> Normative data comparison</label>
          <label class="opt-label"><input type="checkbox" name="reporting" value="Progress tracking"> Progress tracking over time</label>
          <label class="opt-label"><input type="checkbox" name="reporting" value="EHR export"> Export to electronic health records</label>
          <label class="opt-label"><input type="checkbox" name="reporting" value="Video overlay"> Video recording with overlaid data</label>
          <label class="opt-label"><input type="checkbox" name="reporting" value="Custom templates"> Customizable report templates</label>
        </div>
        <div style="margin-top:10px;"><input type="text" name="reporting_other" placeholder="Other reporting features…"></div>
      </div>

      <div class="field">
        <label class="qlabel">6. Safety concerns you foresee with this design (Check all that apply)</label>
        <div class="options-grid">
          <label class="opt-label"><input type="checkbox" name="safety" value="Slipping between boards"> Risk of slipping between boards</label>
          <label class="opt-label"><input type="checkbox" name="safety" value="Board movement"> Board movement during use</label>
          <label class="opt-label"><input type="checkbox" name="safety" value="Tripping hazard"> Tripping hazard on board edges</label>
          <label class="opt-label"><input type="checkbox" name="safety" value="Insufficient fall protection"> Insufficient fall protection for high-risk patients</label>
          <label class="opt-label"><input type="checkbox" name="safety" value="Cable management"> Cable management issues</label>
          <label class="opt-label"><input type="checkbox" name="safety" value="Inadequate traction"> Board surface traction inadequate</label>
          <label class="opt-label"><input type="checkbox" name="safety" value="Height difference"> Height/step difference between boards and floor</label>
          <label class="opt-label"><input type="checkbox" name="safety" value="Bariatric weight capacity"> Weight capacity concerns for bariatric patients</label>
          <label class="opt-label"><input type="checkbox" name="safety" value="Electrical safety"> Electrical safety concerns</label>
          <label class="opt-label"><input type="checkbox" name="safety" value="No concerns"> No safety concerns identified</label>
        </div>
        <div style="margin-top:10px;"><input type="text" name="safety_other" placeholder="Other safety concerns…"></div>
      </div>

      <div class="field">
        <label class="qlabel">7. What would make the system easier to use in your clinical workflow? (Check all that apply)</label>
        <div class="options-grid">
          <label class="opt-label"><input type="checkbox" name="workflow" value="Faster setup"> Faster setup time (&lt;5 minutes)</label>
          <label class="opt-label"><input type="checkbox" name="workflow" value="Pre-configured protocols"> Pre-configured therapy protocols</label>
          <label class="opt-label"><input type="checkbox" name="workflow" value="Auto patient ID"> Automated patient identification</label>
          <label class="opt-label"><input type="checkbox" name="workflow" value="Quick-connect"> Quick-connect board linking mechanism</label>
          <label class="opt-label"><input type="checkbox" name="workflow" value="One-button calibration"> Simple one-button calibration</label>
          <label class="opt-label"><input type="checkbox" name="workflow" value="Cloud storage"> Cloud-based data storage</label>
          <label class="opt-label"><input type="checkbox" name="workflow" value="Hospital integration"> Integration with existing hospital systems</label>
          <label class="opt-label"><input type="checkbox" name="workflow" value="Carrying case"> Portable carrying case</label>
          <label class="opt-label"><input type="checkbox" name="workflow" value="Minimal maintenance"> Minimal maintenance requirements</label>
          <label class="opt-label"><input type="checkbox" name="workflow" value="User manual"> Comprehensive user manual with troubleshooting</label>
        </div>
        <div style="margin-top:10px;"><input type="text" name="workflow_other" placeholder="Other workflow improvements…"></div>
      </div>
    </div>

    <!-- SECTION 6: Implementation -->
    <div class="section" id="s6">
      <div class="section-label">Section 6 of 7</div>
      <div class="section-title">Implementation Considerations</div>
      <div class="section-desc">Please rate your likelihood of adoption and the training you would need.</div>
      <div class="rating-scale-note">Scale: 1 = Very unlikely/difficult → 5 = Very likely/easy</div>
      <div style="overflow-x:auto;">
        <table class="rating-table">
          <thead><tr><th>Question</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr></thead>
          <tbody>
            <tr><td>How likely would you be to use MOBBO in your practice?</td>
              <td><input type="radio" name="impl1" value="1"></td><td><input type="radio" name="impl1" value="2"></td><td><input type="radio" name="impl1" value="3"></td><td><input type="radio" name="impl1" value="4"></td><td><input type="radio" name="impl1" value="5"></td>
            </tr>
            <tr><td>How easy was the system to understand after the demonstration?</td>
              <td><input type="radio" name="impl2" value="1"></td><td><input type="radio" name="impl2" value="2"></td><td><input type="radio" name="impl2" value="3"></td><td><input type="radio" name="impl2" value="4"></td><td><input type="radio" name="impl2" value="5"></td>
            </tr>
            <tr><td>How confident are you that you could operate MOBBO independently?</td>
              <td><input type="radio" name="impl3" value="1"></td><td><input type="radio" name="impl3" value="2"></td><td><input type="radio" name="impl3" value="3"></td><td><input type="radio" name="impl3" value="4"></td><td><input type="radio" name="impl3" value="5"></td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="field" style="margin-top:24px;">
        <label class="qlabel">Acceptable price range for this system (INR)</label>
        <div class="options-grid">
          <label class="opt-label"><input type="radio" name="price" value="<50000"> Less than ₹50,000</label>
          <label class="opt-label"><input type="radio" name="price" value="50k-1L"> ₹50,000 – ₹1,00,000</label>
          <label class="opt-label"><input type="radio" name="price" value="1L-2L"> ₹1,00,000 – ₹2,00,000</label>
          <label class="opt-label"><input type="radio" name="price" value="2L-3L"> ₹2,00,000 – ₹3,00,000</label>
          <label class="opt-label"><input type="radio" name="price" value=">3L"> More than ₹3,00,000</label>
        </div>
      </div>

      <div class="field">
        <label class="qlabel">What training would you need to effectively use MOBBO? (Check all that apply)</label>
        <div class="options-grid">
          <label class="opt-label"><input type="checkbox" name="training" value="Manual"> Brief instruction manual</label>
          <label class="opt-label"><input type="checkbox" name="training" value="Video tutorial"> Video tutorial</label>
          <label class="opt-label"><input type="checkbox" name="training" value="Workshop"> Hands-on workshop</label>
          <label class="opt-label"><input type="checkbox" name="training" value="Ongoing support"> Ongoing technical support</label>
          <label class="opt-label"><input type="checkbox" name="training" value="Online course"> Online training course</label>
        </div>
        <div style="margin-top:10px;"><input type="text" name="training_other" placeholder="Other training needs…"></div>
      </div>
    </div>

    <!-- SECTION 7: Overall Feedback -->
    <div class="section" id="s7">
      <div class="section-label">Section 7 of 7</div>
      <div class="section-title">Overall Feedback</div>
      <div class="section-desc">Any additional comments, suggestions, or observations are very welcome.</div>

      <div class="field">
        <label class="qlabel">Any other comments or suggestions?</label>
        <textarea name="overall_comments" placeholder="Please share any additional thoughts, clinical scenarios, or design suggestions…" style="min-height:140px;"></textarea>
      </div>
    </div>

    <div class="submit-wrap">
      <p style="color:var(--muted);font-size:13px;margin-bottom:16px;">Thank you for taking the time to complete this survey.<br>Your input is invaluable for improving MOBBO.</p>
      <button type="submit" class="btn-submit">Submit Feedback</button>
    </div>

  </form>

  <!-- Thank you screen -->
  <div id="thankyou">
    <div class="ty-icon">🎉</div>
    <h2>Thank you for your feedback!</h2>
    <p>Your response has been recorded.<br>The MOBBO team at CMC Vellore greatly appreciates your time and insights.</p>
  </div>
</div>

<script>
  // Progress bar
  window.addEventListener('scroll', () => {
    const doc = document.documentElement;
    const scrollTop = doc.scrollTop || document.body.scrollTop;
    const height = doc.scrollHeight - doc.clientHeight;
    const pct = height ? (scrollTop / height) * 100 : 0;
    document.getElementById('progressBar').style.width = pct + '%';
  });

  // Animate sections in on scroll
  const sections = document.querySelectorAll('.section');
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); });
  }, { threshold: 0.06 });
  sections.forEach(s => observer.observe(s));

  // Highlight checked opt-labels
  document.addEventListener('change', (e) => {
    if (e.target.type === 'radio') {
      const name = e.target.name;
      document.querySelectorAll(`input[name="${name}"]`).forEach(r => {
        r.closest('.opt-label')?.classList.remove('checked');
      });
      e.target.closest('.opt-label')?.classList.add('checked');
    }
    if (e.target.type === 'checkbox') {
      if (e.target.checked) {
        e.target.closest('.opt-label')?.classList.add('checked');
      } else {
        e.target.closest('.opt-label')?.classList.remove('checked');
      }
    }
  });

  // Human-readable header map for Google Sheets columns
  const FIELD_LABELS = {
    respondent_name: "Name",
    role: "Professional Role", role_other: "Role (Other)",
    experience: "Years of Experience",
    workplace: "Workplace Setting", workplace_other: "Workplace (Other)",
    freq: "Frequency of Balance Treatment",
    methods: "Balance Assessment Methods",
    tech_specify: "Technologies Used", no_tech_reason: "Reason Not Using Tech",
    challenges: "Assessment Challenges", challenges_other: "Challenges (Other)",
    population: "Patient Populations", population_other: "Population (Other)",
    cfg1: "Rating: Single Board-Static Balance", cfg2: "Rating: Single Board-Dynamic Balance",
    cfg3: "Rating: Two Boards-Weight Symmetry", cfg4: "Rating: Two Boards-Bilateral Stance",
    cfg5: "Rating: Lateral-Lateral Walking", cfg6: "Rating: Linear-Gait Assessment",
    cfg7: "Rating: Staggered-Obstacle Crossing", cfg8: "Rating: Zigzag-Turning Balance",
    cfg9: "Rating: Variable Spacing-Step Length",
    cfg_scenarios: "Clinical Scenarios (high-rated configs)",
    cfg_other_arrangements: "Other Board Arrangements",
    reconfig_importance: "Importance of Quick Reconfiguration",
    qm1: "Rating: COP Measurement", qm2: "Rating: BOS Tracking",
    qm3: "Rating: Body Pose & Joint Angles", qm4: "Rating: Weight Shifting per Board",
    qm5: "Rating: Local COP Accuracy", qm6: "Rating: Combined COP Accuracy",
    qm7: "Rating: BOS Accuracy", qm_other: "Other Useful Parameters",
    gm1: "Rating: Game-Static Balance", gm2: "Rating: Game-Weight Symmetry",
    gm3: "Rating: Game-Gait Training", gm4: "Rating: Game-Home Care",
    gm_other: "Other Gaming Applications",
    us1: "Rating: Ease of Setup", us2: "Rating: Ease of Transport",
    us3: "Rating: Ease of Setup (Home)", us4: "Rating: Ease of Setup (Small Scale)",
    us_other: "Other Usability Comments",
    aa1: "Rating: Initial Balance Assessment", aa2: "Rating: Progress Monitoring",
    aa3: "Rating: Fall Risk Screening", aa4: "Rating: Post-Surgical Evaluation",
    aa5: "Rating: Pediatric Balance", aa_other: "Other Assessment Applications",
    ta1: "Rating: Weight Shifting Exercises", ta2: "Rating: Static Balance Training",
    ta3: "Rating: Dynamic Balance Training", ta4: "Rating: Gait Training",
    ta_other: "Other Training Applications",
    cs1: "Rating: Hospital", cs2: "Rating: Private Clinic",
    cs3: "Rating: Home-Based Therapy", cs4: "Rating: Community Health Centers",
    cs5: "Rating: Academic & Research", cs_other: "Other Clinical Settings",
    features: "Desired Additional Features", features_other: "Features (Other)",
    board_size: "Ideal Board Size", board_size_other: "Board Size (Other)",
    num_boards: "Optimal No. of Boards", num_boards_other: "No. of Boards (Other)",
    display: "Therapist Display Preferences", display_other: "Display (Other)",
    reporting: "Reporting Features", reporting_other: "Reporting (Other)",
    safety: "Safety Concerns", safety_other: "Safety (Other)",
    workflow: "Workflow Improvements", workflow_other: "Workflow (Other)",
    impl1: "Rating: Likelihood of Using MOBBO",
    impl2: "Rating: Ease of Understanding System",
    impl3: "Rating: Confidence to Operate Independently",
    price: "Acceptable Price Range (INR)",
    training: "Training Needed", training_other: "Training (Other)",
    overall_comments: "Overall Comments",
    _timestamp: "Submission Timestamp"
  };

  // Form submit — send labeled data to Google Sheets
  document.getElementById('surveyForm').addEventListener('submit', async function(e) {
    e.preventDefault();

    const nameVal = document.querySelector('input[name="respondent_name"]').value.trim();
    if (!nameVal) {
      alert('Please enter your full name before submitting.');
      document.querySelector('input[name="respondent_name"]').focus();
      return;
    }

    const btn = document.querySelector('.btn-submit');
    btn.textContent = 'Submitting…';
    btn.disabled = true;

    const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyO5AanvYXnPrd2lqQKsBlcLnW3PWD4pQA7rh615yw540axfVU75qUkBhTo4I5ETqMa/exec';

    try {
      const formData = new FormData(this);
      const raw = {};
      for (let [key, value] of formData.entries()) {
        if (raw[key]) {
          if (Array.isArray(raw[key])) raw[key].push(value);
          else raw[key] = [raw[key], value];
        } else {
          raw[key] = value;
        }
      }
      for (let key in raw) {
        if (Array.isArray(raw[key])) raw[key] = raw[key].join(', ');
      }
      raw['_timestamp'] = new Date().toISOString();

      // Map raw keys to human-readable headers
      const labeled = {};
      for (let key in raw) {
        const header = FIELD_LABELS[key] || key;
        labeled[header] = raw[key];
      }

      await fetch(GOOGLE_SCRIPT_URL, {
        method: 'POST',
        mode: 'no-cors',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(labeled)
      });

      document.getElementById('mainContent').style.display = 'none';
      document.getElementById('thankyou').style.display = 'block';
      window.scrollTo({ top: 0, behavior: 'smooth' });

    } catch (err) {
      alert('Network error. Please check your connection and try again.');
      btn.textContent = 'Submit Feedback';
      btn.disabled = false;
    }
  });
</script>
</body>
</html>